#encoding: utf-8
from django import forms
from django.contrib.auth.models import User

attrs_dict = { 'class': 'required' }

class LoginForm(forms.Form):
    
    username = forms.CharField( max_length=30,
                                widget=forms.TextInput(attrs=attrs_dict),
                                label='Usuario')

    password = forms.CharField(widget=forms.PasswordInput(attrs=attrs_dict, render_value=False),
                                label='Senha')

class CadastroForm(forms.Form):
    username = forms.CharField( max_length=30,
                                widget=forms.TextInput(attrs=attrs_dict),
                                label='Usuario')
    email = forms.EmailField(widget=forms.TextInput(attrs=dict(attrs_dict,
                                                               maxlength=75)),
                             label='Email')
    first_name = forms.CharField(max_length=60, label="Primeiro Nome")
    last_name = forms.CharField(max_length=60, label="Ultimo Nome")
    password1 = forms.CharField(widget=forms.PasswordInput(attrs=attrs_dict, render_value=False),
                                label='Senha')
    password2 = forms.CharField(widget=forms.PasswordInput(attrs=attrs_dict, render_value=False),
                                label='Confirmar Senha')
    '''
    def clean_username(self):
        try:
            user = User.objects.get(username__iexact=self.cleaned_data['username'])
        except User.DoesNotExist:
            return self.cleaned_data['username']
        raise forms.ValidationError('Este usuario ja esta cadastrado. Por favor escolha outro')

    def clean_password1(self):
        if 'password1' in self.cleaned_data and 'password2' in self.cleaned_data:
            if self.cleaned_data['password1'] != self.cleaned_data['password2']:
                raise forms.ValidationError('Digite senhas iguais.')
        return self.cleaned_data'''